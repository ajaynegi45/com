!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("rb_wixui.thunderbolt[GoogleMap]",["react"],t):"object"==typeof exports?exports["rb_wixui.thunderbolt[GoogleMap]"]=t(require("react")):e["rb_wixui.thunderbolt[GoogleMap]"]=t(e.React)}("undefined"!=typeof self?self:this,(function(e){return function(){var t={40841:function(e,t){var n;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var i=o.apply(null,n);i&&e.push(i)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},5329:function(t){"use strict";t.exports=e},448:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},66820:function(e){e.exports=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o},e.exports.__esModule=!0,e.exports.default=e.exports}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,r),a.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="https://static.parastorage.com/services/editor-elements-library/dist/thunderbolt/";var o={};return function(){"use strict";r.r(o),r.d(o,{components:function(){return G}});var e=r(448),t=r.n(e),n=r(5329),a=r(40841),i=r.n(a);const s=(...e)=>e.map((e=>`wixui-${e}`)).join(" "),l=()=>"undefined"!=typeof window;var u={root:"google-map"},c=r(66820),d=r.n(c);function p(){const e=n.useRef([]);return[n.useCallback((()=>new Promise((t=>e.current.push(t)))),[]),n.useCallback((t=>{e.current.forEach((e=>e(t))),e.current.length=0}),[])]}const f=(e,t)=>{if(e||t)return t?{path:e,fillColor:t,strokeColor:t,fillOpacity:1,scale:.5}:(e=>{if(e&&e.endsWith(".webp"))try{const t=e.match(/media\/[^/]+/)[0].split(".")[1];e=e.replace(/.webp$/,"."+t)}catch(e){}return e})(e)},g=e=>e.map((e=>t()({},e,{icon:f(e.pinIcon,e.pinColor)})));var m="load",v="message",h="SET_INITIAL_LOCATIONS",y="SET_CENTER",M="CENTER_UPDATED",E="SET_ZOOM",b="ZOOM_UPDATED",w="MARKER_CLICKED",S="MAP_CLICKED",O="GET_MARKERS",_="MARKERS",x="FIT_BOUNDS",C="MAP_IDLE",k="OPEN_INFO_WINDOW",N="TILES_LOADED";const L=["longitude","latitude"];function D(e,r,o){let a=r.mapData,i=r.isEditorMode,s=o.onUpdateZoom,u=o.onUpdateCenter,c=o.onMarkerClicked,f=o.onMapClicked;const D=(0,n.useRef)([]),j=(0,n.useRef)(null),R=p(),I=R[0],P=R[1],A=p(),T=A[0],G=A[1],U=p(),J=U[0],W=U[1],F=p(),K=F[0],Z=F[1],z=p(),B=z[0],H=z[1],V=p(),q=V[0],$=V[1],Q=(0,n.useState)(!1),X=Q[0],Y=Q[1],ee=e=>{const t=j.current;return g(t||e)},te=(0,n.useMemo)((()=>t()({},a,{locations:ee(a.locations)})),[a]),ne=function(e,t){void 0===t&&(t=null);const r=(0,n.useRef)(t);return(0,n.useEffect)((()=>{r.current=e}),[e]),r.current}(te),re={[M]:e=>null==u?void 0:u(e),[b]:e=>null==s?void 0:s({zoom:e}),[w]:e=>null==c?void 0:c(t()({type:"markerClicked"},e)),[S]:e=>{let n=e.longitude,r=e.latitude,o=d()(e,L);return null==f?void 0:f(t()({type:"mapClicked",location:{longitude:n,latitude:r}},o))},[_]:e=>P(e),[C]:()=>{const e=D.current.shift();null==e||e()},[N]:()=>{X||Y(!0)}},oe={[m]:e=>{(0,e._sendMessage)({type:h,data:JSON.stringify(t()({},a,{locations:ee(a.locations)}))},{forceSend:!0})},[v]:e=>{let t=e.event;if("string"==typeof t.payload){var n;const e=JSON.parse(t.payload),r=e.type,o=e.data;null==(n=re[r])||n.call(re,o)}}},ae=function(e){let t=e.reducer,r=void 0===t?()=>({}):t,o=e.iframeLoaded;const a=(0,n.useRef)([]),i=(0,n.useRef)(void 0),s=(0,n.useRef)(void 0),u=(0,n.useRef)(void 0),c=(0,n.useCallback)(((e,t)=>{if(i.current&&o||null!=t&&t.forceSend){var n;const t=null==(n=i.current)?void 0:n.contentWindow;return void(null==t||t.postMessage(e,"*"))}if(!i.current||!s.current||!1===o)return void a.current.push(e);const r=i.current.contentWindow;null==r||r.postMessage(e,"*")}),[o]),d=(0,n.useCallback)((()=>{0!==a.current.length&&!1!==o&&(a.current.forEach((e=>c(e))),a.current=[])}),[c,o]),p=(0,n.useCallback)((e=>{if(u.current&&(u.current(),u.current=void 0),!e)return;const t=()=>{s.current=!0,d(),r({type:"load"},c)};e.addEventListener("load",t),i.current=e,u.current=()=>{e.removeEventListener("load",t)}}),[r,c,d]);return(0,n.useEffect)((()=>{o&&d()}),[o,d]),(0,n.useEffect)((()=>{if(!l())return;const e=e=>{var t;e.source&&e.source!==(null==(t=i.current)?void 0:t.contentWindow)||r({type:"message",payload:e.data},c)};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[r,c]),[p,c]}({reducer:(e,t)=>{var n;return null==(n=oe[e.type])?void 0:n.call(oe,{event:e,_sendMessage:t})},iframeLoaded:X}),ie=ae[0],se=ae[1];return(0,n.useImperativeHandle)(e,(()=>({setMapCenter:(e,t)=>{const n=T();return se({type:y,data:JSON.stringify({longitude:e,latitude:t})}),D.current.push(G),n},fitBounds:e=>{let t=e.north,n=e.east,r=e.west,o=e.south;const a=K();return se({type:x,data:JSON.stringify({north:t,east:n,west:r,south:o})}),D.current.push(Z),a},setMapZoom:e=>{const t=J();return se({type:E,data:e}),D.current.push(W),t},getVisibleMarkers:()=>{const e=I();return se({type:O}),e},openInfoWindow:e=>{if(!te.showDirectionsLink){const t=q();return se({type:k,data:JSON.stringify({locationIndex:e})}),D.current.push($),t}return new Promise((e=>e()))},setMarkers:(e,n)=>{const r=B();return j.current=e,se(JSON.stringify(t()({},te,{locations:g(e),openInfoWindow:null==n?void 0:n.openInfoWindow}))),D.current.push(H),r}}))),(0,n.useEffect)((()=>{if(!X||!i)return;const e=!!ne&&(n=te.locations,r=ne.locations,n.length===r.length&&n.every(((e,t)=>{const n=Object.keys(e);return n.length===Object.keys(r[t]).length&&n.every((n=>"locationLinkAttributes"===n||e[n]===r[t][n]))})));var n,r;se(JSON.stringify(t()({},te,{locations:ee(te.locations),shouldKeepMarkers:e})))}),[te,se,X,ne,i]),[ie]}var j={GoogleMapSkin:"azCDHJ",googleMapSkin:"azCDHJ",mapContainer:"UXiAup",GoogleMapDefault:"gzNVjA",googleMapDefault:"gzNVjA",GoogleMapSloppy:"FiDpOP",googleMapSloppy:"FiDpOP",brd:"vWE6wc",one:"dj3FJn",two:"W_nooy",GoogleMapLiftedShadow:"e4y5ni",googleMapLiftedShadow:"e4y5ni",shd:"up3Bvs",left:"h0JKNn",right:"uaUROu"};const R={GoogleMapLiftedShadow:()=>n.createElement(n.Fragment,null,n.createElement("div",{className:i()(j.left,j.shd)}),n.createElement("div",{className:i()(j.right,j.shd)})),GoogleMapSloppy:()=>n.createElement(n.Fragment,null,n.createElement("div",{className:i()(j.brd,j.one)}),n.createElement("div",{className:i()(j.brd,j.two)})),GoogleMapSkin:()=>n.createElement(n.Fragment,null),GoogleMapDefault:()=>n.createElement(n.Fragment,null)};var I=r.p+"media/googleMap.4be2d908.html",P=r.p+"media/google-map.min.4330eb7f.js";const A=e=>e.replace("https://static.parastorage.com/services/","https://editor.wix.com/_partials/"),T=(e,r)=>{const o=e.id,a=e.className,c=e.customClassNames,d=void 0===c?[]:c,p=e.skin,f=e.urlQueries,g=e.mapData,m=e.translate,v=e.onUpdateCenter,h=e.onUpdateZoom,y=e.onMarkerClicked,M=e.onMapClicked,E=e.onMouseEnter,b=e.onMouseLeave,w=e.isDesignerMode,S=e.isEditorMode,O=R[p],_=((e,t)=>{const n=t?A(P):P,r=new URLSearchParams({googleMapsScriptPath:new URL(n).pathname});return l()&&r.append("origin",window.origin),(t?A(I):I)+"?"+e+"&"+r})(f,w),x=n.useState(!1),C=x[0],k=x[1],N=D(r,{mapData:g,isEditorMode:S},{onUpdateCenter:v,onUpdateZoom:h,onMarkerClicked:y,onMapClicked:M})[0];n.useEffect((()=>{k(!0)}),[_]);const L=m("component_label","COMPONENT_LABEL_googleMapsTitle","Google Map");return n.createElement("div",t()({id:o},(e=>Object.entries(e).reduce(((e,t)=>{let n=t[0],r=t[1];return n.includes("data-")&&(e[n]=r),e}),{}))(e),{tabIndex:0,className:i()(j[p],j.wixIframe,a,s(u.root,...d))}),C&&n.createElement("wix-iframe",{title:L,"aria-label":L,"data-src":_},n.createElement(O,null),n.createElement("div",{id:"mapContainer_"+o,onMouseEnter:E,onMouseLeave:b,className:j.mapContainer},n.createElement("iframe",{ref:N,title:L,"aria-label":L,"data-src":_,width:"100%",height:"100%",frameBorder:"0",scrolling:"no",allowFullScreen:!0}))))};const G={GoogleMap:{component:n.forwardRef(T)}}}(),o}()}));
//# sourceMappingURL=https://static.parastorage.com/services/editor-elements-library/dist/thunderbolt/rb_wixui.thunderbolt[GoogleMap].45179f18.bundle.min.js.map